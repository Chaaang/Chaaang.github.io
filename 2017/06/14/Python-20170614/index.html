<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">



  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">




  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />










  <meta name="baidu-site-verification" content="GnFt7eTtb2" />







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="https://fonts.cat.net/css?family=Galdeano:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=6.4.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=6.4.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=6.4.1">


  <link rel="mask-icon" href="/images/favicon.ico?v=6.4.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.4.1',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"expandIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="此文为官网原文的翻译和整理">
<meta name="keywords" content="PyQt,观察者模式">
<meta property="og:type" content="article">
<meta property="og:title" content="PyQt5 与 PyQt4 差别应用">
<meta property="og:url" content="http://blog.haowei.ch/2017/06/14/Python-20170614/index.html">
<meta property="og:site_name" content="Bamboo Sticks">
<meta property="og:description" content="此文为官网原文的翻译和整理">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-06-13T23:06:03.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PyQt5 与 PyQt4 差别应用">
<meta name="twitter:description" content="此文为官网原文的翻译和整理">






  <link rel="canonical" href="http://blog.haowei.ch/2017/06/14/Python-20170614/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>PyQt5 与 PyQt4 差别应用 | Bamboo Sticks</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Bamboo Sticks</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">有梦想才会出发, 有挑战才有乐趣</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tasks"></i> <br />标签集</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-coffee"></i> <br />技能栈</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />时间线</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">
    <a href="/schedule/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-check"></i> <br />清单集</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    
  
  
  
    
      
    
    <a href="https://github.com/Chaaang" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#222; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: rotate(-90deg);-ms-transform: rotate(-90deg);-moz-transform: rotate(-90deg);-webkit-transform: rotate(-90deg);-o-transform: rotate(-90deg);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
    
      </a>
    



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.haowei.ch/2017/06/14/Python-20170614/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="HWei">
      <meta itemprop="description" content="Try more hard </br> Beg lucky">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/3610305?v=4&s=460">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bamboo Sticks">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">PyQt5 与 PyQt4 差别应用
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">创建于</span>
              

              
                
              

              <time title="创建时间：2017-06-14 07:06:03" itemprop="dateCreated datePublished" datetime="2017-06-14T07:06:03+08:00">2017-06-14</time>
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <p>此文为官网原文的翻译和整理<br> <a id="more"></a> </p>
<blockquote>
<p>描述能力有限，不确定的翻译会在旁边注释英文<br>更新时间：2017年05月12日<br><a href="http://pyqt.sourceforge.net/Docs/PyQt5/pyqt4_differences.html" target="_blank" rel="noopener">官网链接</a></p>
</blockquote>
<h2 id="不与-PyQt4-兼容"><a href="#不与-PyQt4-兼容" class="headerlink" title="不与 PyQt4 兼容"></a>不与 PyQt4 兼容</h2><p>虽然实际上升级PyQt4写的项目不是那么糟</p>
<h2 id="不再对Python老版本提供支持（Python-2-6-之前）"><a href="#不再对Python老版本提供支持（Python-2-6-之前）" class="headerlink" title="不再对Python老版本提供支持（Python 2.6 之前）"></a>不再对Python老版本提供支持（Python 2.6 之前）</h2><h2 id="不再实现PyQt4不推荐的API接口"><a href="#不再实现PyQt4不推荐的API接口" class="headerlink" title="不再实现PyQt4不推荐的API接口"></a>不再实现PyQt4不推荐的API接口</h2><p>PyQt5 不支持任何在PyQt4版本中标记为不推荐或舍弃的Qt API（如果有就会当Bug处理）</p>
<h2 id="不再提供多版本API接口"><a href="#不再提供多版本API接口" class="headerlink" title="不再提供多版本API接口"></a>不再提供多版本API接口</h2><p>PyQt4 支持多版本的API（如<code>QString</code>，<code>QVariant</code>等）<br>PyQt5 只支持最新的API版本(除<code>QVariant</code>外)<br>    <code>QVariant</code>的改变是去掉了 <code>QPyNullVariant</code> （在<code>QVariant</code>的帮助文档里也有显示）</p>
<h2 id="信号和插槽（Signals-and-Slots）机制更新"><a href="#信号和插槽（Signals-and-Slots）机制更新" class="headerlink" title="信号和插槽（Signals and Slots）机制更新"></a>信号和插槽（Signals and Slots）机制更新</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面所列出来的调用方式不再支持</span></span><br><span class="line">QObject.connect()</span><br><span class="line">QObject.emit()</span><br><span class="line">SIGNAL()</span><br><span class="line">SLOT()</span><br></pre></td></tr></table></figure>
<p>所有含有以SIGNAL()或SLOT()返回结果为参数的方法不再支持，转而提供可调用方法（函数）或已捆绑的信号（a bound signal）</p>
<h3 id="风格对比（代码）"><a href="#风格对比（代码）" class="headerlink" title="风格对比（代码）"></a>风格对比（代码）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PyQt5</span></span><br><span class="line">combo = QtWidgets.QComboBox(self)</span><br><span class="line">combo.activated.connect(self.onActivated)</span><br><span class="line"><span class="comment"># PyQt4</span></span><br><span class="line">combo = QtWidgets.QComboBox(self)</span><br><span class="line">self.connect(combo, QtCore.pyqtSignal(<span class="string">'activated(QString)'</span>), self.onActivated)</span><br><span class="line">```    </span><br><span class="line">    </span><br><span class="line"><span class="comment">###  `QObject.disconnect()` 调用无参数，作用断掉所有信号和插槽的连接</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### TODO New-style Signals and Slots</span></span><br><span class="line">Qt implements signals <span class="keyword">with</span> an optional argument <span class="keyword">as</span> two separate signals, one <span class="keyword">with</span> the argument <span class="keyword">and</span> one without it. PyQt4 exposed both of these allowing you to connect to each of them. However, when emitting the signal, you had to use the signal appropriate to the number of arguments being emitted.</span><br><span class="line"></span><br><span class="line">PyQt5 exposes only the signal where all arguments are specified. However it allows any optional arguments to be omitted when emitting the signal.</span><br><span class="line"></span><br><span class="line">Unlike PyQt4, PyQt5 supports the definition of properties, signals <span class="keyword">and</span> slots <span class="keyword">in</span> classes <span class="keyword">not</span> sub-classed <span class="keyword">from</span> QObject (i.e. <span class="keyword">in</span> mixins).</span><br><span class="line"></span><br><span class="line"><span class="comment">## 新增 `QtQml` `QtQuick` 模块并支持从QML创建Python对象</span></span><br><span class="line">不再支持`QtDeclarative`, `QtScript`, `QtScriptTools`模块</span><br><span class="line">以上模块被 `QtQml` 和 `QtQuick` 替换。</span><br><span class="line">支持从QML创建Python对象</span><br><span class="line"></span><br><span class="line"><span class="comment">## `QtGui` 模块更新</span></span><br><span class="line">QtGui模块被拆分了为QtGui, QtPrintSupport 和QtWidgets三大模块</span><br><span class="line">```python</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtGui, QtPrintSupport, QtWidgets</span><br></pre></td></tr></table></figure>
<h2 id="QtOpenGL-模块更新"><a href="#QtOpenGL-模块更新" class="headerlink" title="QtOpenGL 模块更新"></a><code>QtOpenGL</code> 模块更新</h2><p>PyQt5的<code>QtOpenGL</code>模块只提供<code>QGLContext</code> <code>QGLFormat</code> 和 <code>QGLWidget</code>类</p>
<h2 id="QtWebKit-模块更新"><a href="#QtWebKit-模块更新" class="headerlink" title="QtWebKit 模块更新"></a><code>QtWebKit</code> 模块更新</h2><p>PyQt4的<code>QtWebKit</code>在PyQt5中分成了<code>QtWebKit</code>和<code>QtWebKitWidgets</code>模块</p>
<h2 id="扩展性增强"><a href="#扩展性增强" class="headerlink" title="扩展性增强"></a>扩展性增强</h2><p>不再支持<code>pyqtconfig</code>模块<br><a href="http://pyqt.sourceforge.net/Docs/PyQt5/extension_api.html#ref-build-system" target="_blank" rel="noopener">The PyQt5 Extension API</a><br>PyQt5 支持第三方包直接基于PyQt5开发(如<a href="https://www.riverbankcomputing.com/software/qscintilla/intro" target="_blank" rel="noopener">QScintilla</a>)</p>
<h2 id="dbus-mainloop-qt-模块更名"><a href="#dbus-mainloop-qt-模块更名" class="headerlink" title="dbus.mainloop.qt 模块更名"></a><code>dbus.mainloop.qt</code> 模块更名</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#dbus.mainloop.qt</span></span><br><span class="line">dbus.mainloop.pyqt5 <span class="comment"># 相同功能只更名</span></span><br></pre></td></tr></table></figure>
<h2 id="QDataStream-明显数值的参数以数值处理和返回"><a href="#QDataStream-明显数值的参数以数值处理和返回" class="headerlink" title="QDataStream 明显数值的参数以数值处理和返回"></a><code>QDataStream</code> 明显数值的参数以数值处理和返回</h2><p><code>readUint8(); readInt8(); writeUInt8(); writeInt8()</code> 方法在PyQt5中以数值类型写入和返回（PyQt4中是以数值文本）</p>
<h2 id="QFileDialog-文件操作接口更新"><a href="#QFileDialog-文件操作接口更新" class="headerlink" title="QFileDialog  文件操作接口更新"></a><code>QFileDialog</code>  文件操作接口更新</h2><table>
<thead>
<tr>
<th>PyQt5</th>
<th>PyQt4</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>getOpenFileName()</td>
<td>getOpenFileNameAndFilter()</td>
<td></td>
</tr>
<tr>
<td>getOpenFileNames()</td>
<td>getOpenFileNamesAndFilter()</td>
<td></td>
</tr>
<tr>
<td>getSaveFileNameAndFilter()</td>
<td>getSaveFileName()</td>
</tr>
</tbody>
</table>
<p><strong>PyQt5 舍弃了 PyQt4 同名的方法</strong></p>
<h2 id="QMatrix-方法不再支持"><a href="#QMatrix-方法不再支持" class="headerlink" title="QMatrix 方法不再支持"></a><code>QMatrix</code> 方法不再支持</h2><p>PyQt5 中已经不再支持 PyQt4种不推荐方法 <code>QMatrix</code><br>PyQt5 中可以考虑使用 <code>QPropertyAnimation</code></p>
<h2 id="QGraphicsItemAnimation-方法不再支持"><a href="#QGraphicsItemAnimation-方法不再支持" class="headerlink" title="QGraphicsItemAnimation 方法不再支持"></a><code>QGraphicsItemAnimation</code> 方法不再支持</h2><p>PyQt5 中已经不再支持 PyQt4种不推荐方法 <code>QGraphicsItemAnimation</code><br>PyQt5 中可以考虑使用 <code>QTransform</code></p>
<h2 id="QPyTextObject-被舍弃"><a href="#QPyTextObject-被舍弃" class="headerlink" title="QPyTextObject 被舍弃"></a><code>QPyTextObject</code> 被舍弃</h2><p>PyQt4 implements the QPyTextObject as a workaround for the inability to define a Python class that is sub-classed from more than one Qt class. PyQt5 does support the ability to define a Python class that is sub-classed from more than one Qt class so long as all but one of the Qt classes are interfaces, i.e. they have been declared in C++ as such using Q_DECLARE_INTERFACE. Therefore QPyTextObject is not implemented in PyQt5.</p>
<h2 id="QSet-在PyQt5中完全用-集合-形式实现"><a href="#QSet-在PyQt5中完全用-集合-形式实现" class="headerlink" title="QSet 在PyQt5中完全用 集合 形式实现"></a>QSet 在PyQt5中完全用 集合 形式实现</h2><h2 id="pyuic5-不再提供-pyqt3-wrapper参数"><a href="#pyuic5-不再提供-pyqt3-wrapper参数" class="headerlink" title="pyuic5 不再提供 --pyqt3-wrapper参数"></a>pyuic5 不再提供 <code>--pyqt3-wrapper</code>参数</h2><p>pyuic5 does not support the –pyqt3-wrapper flag of pyuic4.</p>
<h2 id="pyrcc5-不再提供-py2-或-py3-参数"><a href="#pyrcc5-不再提供-py2-或-py3-参数" class="headerlink" title="pyrcc5 不再提供 -py2 或 -py3 参数"></a>pyrcc5 不再提供 <code>-py2</code> 或 <code>-py3</code> 参数</h2><p><code>pyrcc5</code> cli工具不再支持 <code>-py2</code> 或者 <code>-py3</code> 参数。因为输出的代码兼容所有Python版本（v2.6以后的所有版本）</p>
<h2 id="PyQt5-优化-合作性多重继承-（Cooperative-Multi-inheritance）的初始化方式"><a href="#PyQt5-优化-合作性多重继承-（Cooperative-Multi-inheritance）的初始化方式" class="headerlink" title="PyQt5 优化 合作性多重继承 （Cooperative Multi-inheritance）的初始化方式"></a>PyQt5 优化 合作性多重继承 （Cooperative Multi-inheritance）的初始化方式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PyQt5 调用父类的`__init__`方法.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init</span><span class="params">(self, **kwargs)</span>:</span></span><br><span class="line">    super().__init__(**kwargs)</span><br></pre></td></tr></table></figure>
<h2 id="PyQt5-自动释放GIL，而不是PyQt4的强制释放"><a href="#PyQt5-自动释放GIL，而不是PyQt4的强制释放" class="headerlink" title="PyQt5 自动释放GIL，而不是PyQt4的强制释放"></a>PyQt5 自动释放GIL，而不是PyQt4的强制释放</h2><h2 id="PyQt5-退出时自动调用sip-setdestroyonexit-以禁用自动析构"><a href="#PyQt5-退出时自动调用sip-setdestroyonexit-以禁用自动析构" class="headerlink" title="PyQt5 退出时自动调用sip.setdestroyonexit()以禁用自动析构"></a>PyQt5 退出时自动调用<code>sip.setdestroyonexit()</code>以禁用自动析构</h2><p>Python解释器退出PyQt4应用程序时会默认调用C++析构器处理所有它拥有的线程（这通常是以随机的顺序，因此可能会导致解析器崩溃），通过调用 sip.setdestroyonexit() 函数可以禁用。<br>PyQt5 总会自动调用 <code>sip.setdestroyonexit()</code> 函数.</p>

      
    </div>

    
      


    

    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>HWei</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://blog.haowei.ch/2017/06/14/Python-20170614/" title="PyQt5 与 PyQt4 差别应用">http://blog.haowei.ch/2017/06/14/Python-20170614/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/PyQt/" rel="tag"><i class="fa fa-tag"></i> PyQt</a>
          
            <a href="/tags/观察者模式/" rel="tag"><i class="fa fa-tag"></i> 观察者模式</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/13/Python-20170613/" rel="next" title="Python时间相关的类型转化">
                <i class="fa fa-chevron-left"></i> Python时间相关的类型转化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/16/环境部署-20170916/" rel="prev" title="RMBP 使用问题总结">
                RMBP 使用问题总结 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            TOC
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            关于我
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://avatars3.githubusercontent.com/u/3610305?v=4&s=460"
                alt="HWei" />
            
              <p class="site-author-name" itemprop="name">HWei</p>
              <p class="site-description motion-element" itemprop="description">Try more hard </br> Beg lucky</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/Chaaang" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://bitbucket.org/Chaaang/" target="_blank" title="Bitbucket"><i class="fa fa-fw fa-bitbucket"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://wpa.qq.com/msgrd?v=3&uin=3099891314&site=qq&menu=yes" target="_blank" title="QQ"><i class="fa fa-fw fa-qq"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:heawercher@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://steamcommunity.com/id/Chang_/" target="_blank" title="Steam"><i class="fa fa-fw fa-steam"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://www.musicforprogramming.net/" target="_blank" title="Music"><i class="fa fa-fw fa-music"></i></a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-grav"></i>
                
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://juejin.im/pins" title="掘金" target="_blank">掘金</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://segmentfault.com/news" title="思否" target="_blank">思否</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://pythoncaff.com/topics?filter=excellent" title="PythonCaff" target="_blank">PythonCaff</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.v2ex.com/" title="V2EX" target="_blank">V2EX</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://hacpai.com/" title="黑客派" target="_blank">黑客派</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.reddit.com/r/Python/" title="Reddit" target="_blank">Reddit</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://sspai.com/tag/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0#home" title="少数派" target="_blank">少数派</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.indiehackers.com/" title="indiehackers" target="_blank">indiehackers</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.regex101.com/#" title="regex101" target="_blank">regex101</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://cn.linux.vbird.org/" title="鸟哥 Linux 私房菜" target="_blank">鸟哥 Linux 私房菜</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#不与-PyQt4-兼容"><span class="nav-number">1.</span> <span class="nav-text"><a href="#&#x4E0D;&#x4E0E;-PyQt4-&#x517C;&#x5BB9;" class="headerlink" title="&#x4E0D;&#x4E0E; PyQt4 &#x517C;&#x5BB9;"></a>&#x4E0D;&#x4E0E; PyQt4 &#x517C;&#x5BB9;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不再对Python老版本提供支持（Python-2-6-之前）"><span class="nav-number">2.</span> <span class="nav-text"><a href="#&#x4E0D;&#x518D;&#x5BF9;Python&#x8001;&#x7248;&#x672C;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#xFF08;Python-2-6-&#x4E4B;&#x524D;&#xFF09;" class="headerlink" title="&#x4E0D;&#x518D;&#x5BF9;Python&#x8001;&#x7248;&#x672C;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#xFF08;Python 2.6 &#x4E4B;&#x524D;&#xFF09;"></a>&#x4E0D;&#x518D;&#x5BF9;Python&#x8001;&#x7248;&#x672C;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#xFF08;Python 2.6 &#x4E4B;&#x524D;&#xFF09;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不再实现PyQt4不推荐的API接口"><span class="nav-number">3.</span> <span class="nav-text"><a href="#&#x4E0D;&#x518D;&#x5B9E;&#x73B0;PyQt4&#x4E0D;&#x63A8;&#x8350;&#x7684;API&#x63A5;&#x53E3;" class="headerlink" title="&#x4E0D;&#x518D;&#x5B9E;&#x73B0;PyQt4&#x4E0D;&#x63A8;&#x8350;&#x7684;API&#x63A5;&#x53E3;"></a>&#x4E0D;&#x518D;&#x5B9E;&#x73B0;PyQt4&#x4E0D;&#x63A8;&#x8350;&#x7684;API&#x63A5;&#x53E3;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不再提供多版本API接口"><span class="nav-number">4.</span> <span class="nav-text"><a href="#&#x4E0D;&#x518D;&#x63D0;&#x4F9B;&#x591A;&#x7248;&#x672C;API&#x63A5;&#x53E3;" class="headerlink" title="&#x4E0D;&#x518D;&#x63D0;&#x4F9B;&#x591A;&#x7248;&#x672C;API&#x63A5;&#x53E3;"></a>&#x4E0D;&#x518D;&#x63D0;&#x4F9B;&#x591A;&#x7248;&#x672C;API&#x63A5;&#x53E3;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#信号和插槽（Signals-and-Slots）机制更新"><span class="nav-number">5.</span> <span class="nav-text"><a href="#&#x4FE1;&#x53F7;&#x548C;&#x63D2;&#x69FD;&#xFF08;Signals-and-Slots&#xFF09;&#x673A;&#x5236;&#x66F4;&#x65B0;" class="headerlink" title="&#x4FE1;&#x53F7;&#x548C;&#x63D2;&#x69FD;&#xFF08;Signals and Slots&#xFF09;&#x673A;&#x5236;&#x66F4;&#x65B0;"></a>&#x4FE1;&#x53F7;&#x548C;&#x63D2;&#x69FD;&#xFF08;Signals and Slots&#xFF09;&#x673A;&#x5236;&#x66F4;&#x65B0;</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#风格对比（代码）"><span class="nav-number">5.1.</span> <span class="nav-text"><a href="#&#x98CE;&#x683C;&#x5BF9;&#x6BD4;&#xFF08;&#x4EE3;&#x7801;&#xFF09;" class="headerlink" title="&#x98CE;&#x683C;&#x5BF9;&#x6BD4;&#xFF08;&#x4EE3;&#x7801;&#xFF09;"></a>&#x98CE;&#x683C;&#x5BF9;&#x6BD4;&#xFF08;&#x4EE3;&#x7801;&#xFF09;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QtOpenGL-模块更新"><span class="nav-number">6.</span> <span class="nav-text"><a href="#QtOpenGL-&#x6A21;&#x5757;&#x66F4;&#x65B0;" class="headerlink" title="QtOpenGL &#x6A21;&#x5757;&#x66F4;&#x65B0;"></a><code>QtOpenGL</code> &#x6A21;&#x5757;&#x66F4;&#x65B0;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QtWebKit-模块更新"><span class="nav-number">7.</span> <span class="nav-text"><a href="#QtWebKit-&#x6A21;&#x5757;&#x66F4;&#x65B0;" class="headerlink" title="QtWebKit &#x6A21;&#x5757;&#x66F4;&#x65B0;"></a><code>QtWebKit</code> &#x6A21;&#x5757;&#x66F4;&#x65B0;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#扩展性增强"><span class="nav-number">8.</span> <span class="nav-text"><a href="#&#x6269;&#x5C55;&#x6027;&#x589E;&#x5F3A;" class="headerlink" title="&#x6269;&#x5C55;&#x6027;&#x589E;&#x5F3A;"></a>&#x6269;&#x5C55;&#x6027;&#x589E;&#x5F3A;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dbus-mainloop-qt-模块更名"><span class="nav-number">9.</span> <span class="nav-text"><a href="#dbus-mainloop-qt-&#x6A21;&#x5757;&#x66F4;&#x540D;" class="headerlink" title="dbus.mainloop.qt &#x6A21;&#x5757;&#x66F4;&#x540D;"></a><code>dbus.mainloop.qt</code> &#x6A21;&#x5757;&#x66F4;&#x540D;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QDataStream-明显数值的参数以数值处理和返回"><span class="nav-number">10.</span> <span class="nav-text"><a href="#QDataStream-&#x660E;&#x663E;&#x6570;&#x503C;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x6570;&#x503C;&#x5904;&#x7406;&#x548C;&#x8FD4;&#x56DE;" class="headerlink" title="QDataStream &#x660E;&#x663E;&#x6570;&#x503C;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x6570;&#x503C;&#x5904;&#x7406;&#x548C;&#x8FD4;&#x56DE;"></a><code>QDataStream</code> &#x660E;&#x663E;&#x6570;&#x503C;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x6570;&#x503C;&#x5904;&#x7406;&#x548C;&#x8FD4;&#x56DE;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QFileDialog-文件操作接口更新"><span class="nav-number">11.</span> <span class="nav-text"><a href="#QFileDialog-&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x63A5;&#x53E3;&#x66F4;&#x65B0;" class="headerlink" title="QFileDialog  &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x63A5;&#x53E3;&#x66F4;&#x65B0;"></a><code>QFileDialog</code>  &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x63A5;&#x53E3;&#x66F4;&#x65B0;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QMatrix-方法不再支持"><span class="nav-number">12.</span> <span class="nav-text"><a href="#QMatrix-&#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;" class="headerlink" title="QMatrix &#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;"></a><code>QMatrix</code> &#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QGraphicsItemAnimation-方法不再支持"><span class="nav-number">13.</span> <span class="nav-text"><a href="#QGraphicsItemAnimation-&#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;" class="headerlink" title="QGraphicsItemAnimation &#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;"></a><code>QGraphicsItemAnimation</code> &#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x652F;&#x6301;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QPyTextObject-被舍弃"><span class="nav-number">14.</span> <span class="nav-text"><a href="#QPyTextObject-&#x88AB;&#x820D;&#x5F03;" class="headerlink" title="QPyTextObject &#x88AB;&#x820D;&#x5F03;"></a><code>QPyTextObject</code> &#x88AB;&#x820D;&#x5F03;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QSet-在PyQt5中完全用-集合-形式实现"><span class="nav-number">15.</span> <span class="nav-text"><a href="#QSet-&#x5728;PyQt5&#x4E2D;&#x5B8C;&#x5168;&#x7528;-&#x96C6;&#x5408;-&#x5F62;&#x5F0F;&#x5B9E;&#x73B0;" class="headerlink" title="QSet &#x5728;PyQt5&#x4E2D;&#x5B8C;&#x5168;&#x7528; &#x96C6;&#x5408; &#x5F62;&#x5F0F;&#x5B9E;&#x73B0;"></a>QSet &#x5728;PyQt5&#x4E2D;&#x5B8C;&#x5168;&#x7528; &#x96C6;&#x5408; &#x5F62;&#x5F0F;&#x5B9E;&#x73B0;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pyuic5-不再提供-pyqt3-wrapper参数"><span class="nav-number">16.</span> <span class="nav-text"><a href="#pyuic5-&#x4E0D;&#x518D;&#x63D0;&#x4F9B;-pyqt3-wrapper&#x53C2;&#x6570;" class="headerlink" title="pyuic5 &#x4E0D;&#x518D;&#x63D0;&#x4F9B; --pyqt3-wrapper&#x53C2;&#x6570;"></a>pyuic5 &#x4E0D;&#x518D;&#x63D0;&#x4F9B; <code>--pyqt3-wrapper</code>&#x53C2;&#x6570;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pyrcc5-不再提供-py2-或-py3-参数"><span class="nav-number">17.</span> <span class="nav-text"><a href="#pyrcc5-&#x4E0D;&#x518D;&#x63D0;&#x4F9B;-py2-&#x6216;-py3-&#x53C2;&#x6570;" class="headerlink" title="pyrcc5 &#x4E0D;&#x518D;&#x63D0;&#x4F9B; -py2 &#x6216; -py3 &#x53C2;&#x6570;"></a>pyrcc5 &#x4E0D;&#x518D;&#x63D0;&#x4F9B; <code>-py2</code> &#x6216; <code>-py3</code> &#x53C2;&#x6570;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PyQt5-优化-合作性多重继承-（Cooperative-Multi-inheritance）的初始化方式"><span class="nav-number">18.</span> <span class="nav-text"><a href="#PyQt5-&#x4F18;&#x5316;-&#x5408;&#x4F5C;&#x6027;&#x591A;&#x91CD;&#x7EE7;&#x627F;-&#xFF08;Cooperative-Multi-inheritance&#xFF09;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;" class="headerlink" title="PyQt5 &#x4F18;&#x5316; &#x5408;&#x4F5C;&#x6027;&#x591A;&#x91CD;&#x7EE7;&#x627F; &#xFF08;Cooperative Multi-inheritance&#xFF09;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;"></a>PyQt5 &#x4F18;&#x5316; &#x5408;&#x4F5C;&#x6027;&#x591A;&#x91CD;&#x7EE7;&#x627F; &#xFF08;Cooperative Multi-inheritance&#xFF09;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PyQt5-自动释放GIL，而不是PyQt4的强制释放"><span class="nav-number">19.</span> <span class="nav-text"><a href="#PyQt5-&#x81EA;&#x52A8;&#x91CA;&#x653E;GIL&#xFF0C;&#x800C;&#x4E0D;&#x662F;PyQt4&#x7684;&#x5F3A;&#x5236;&#x91CA;&#x653E;" class="headerlink" title="PyQt5 &#x81EA;&#x52A8;&#x91CA;&#x653E;GIL&#xFF0C;&#x800C;&#x4E0D;&#x662F;PyQt4&#x7684;&#x5F3A;&#x5236;&#x91CA;&#x653E;"></a>PyQt5 &#x81EA;&#x52A8;&#x91CA;&#x653E;GIL&#xFF0C;&#x800C;&#x4E0D;&#x662F;PyQt4&#x7684;&#x5F3A;&#x5236;&#x91CA;&#x653E;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PyQt5-退出时自动调用sip-setdestroyonexit-以禁用自动析构"><span class="nav-number">20.</span> <span class="nav-text"><a href="#PyQt5-&#x9000;&#x51FA;&#x65F6;&#x81EA;&#x52A8;&#x8C03;&#x7528;sip-setdestroyonexit-&#x4EE5;&#x7981;&#x7528;&#x81EA;&#x52A8;&#x6790;&#x6784;" class="headerlink" title="PyQt5 &#x9000;&#x51FA;&#x65F6;&#x81EA;&#x52A8;&#x8C03;&#x7528;sip.setdestroyonexit()&#x4EE5;&#x7981;&#x7528;&#x81EA;&#x52A8;&#x6790;&#x6784;"></a>PyQt5 &#x9000;&#x51FA;&#x65F6;&#x81EA;&#x52A8;&#x8C03;&#x7528;<code>sip.setdestroyonexit()</code>&#x4EE5;&#x7981;&#x7528;&#x81EA;&#x52A8;&#x6790;&#x6784;</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">HWei</span>

  

  
</div>











        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  



  











  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/reading_progress/reading_progress.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    
      <script type="text/javascript">
      function renderGitment(){
        var gitment = new Gitmint({
            id: window.location.pathname,
            owner: 'Chaaang',
            repo: 'chaaang.github.io',
            
            lang: "" || navigator.language || navigator.systemLanguage || navigator.userLanguage,
            
            oauth: {
            
            
                client_secret: '5a56e0907c2e4c4574f462731e24a284a9db1215',
            
                client_id: '78d28c932c075812da1a'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    






  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "vertical";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Wechat,Douban,QQZone,Weibo,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  
  
  
  <script src="/lib/pangu/dist/pangu.min.js?v=3.3"></script>
  <script type="text/javascript">pangu.spacingPage();</script>


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=6.4.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.4.1"></script>


  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
          if(result)$(this).text('复制成功')
          else $(this).text('复制失败')
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('复制')
        }, 300)
      }).append(e)
    })
  </script>


</body>
</html>
